<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Creating a memory object | Ziang Tian's Personal Blogs</title><meta name="author" content="Ziang Tian"><meta name="copyright" content="Ziang Tian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="We have learned the rough process of creating an object in gem5. To recap, we:  create a .py python interface for the class we wish to create declare the object in a .hh header file implement the obje">
<meta property="og:type" content="article">
<meta property="og:title" content="Creating a memory object">
<meta property="og:url" content="http://ziangtian.github.io/personal/2024/05/10/gem5-creating-mem-object/index.html">
<meta property="og:site_name" content="Ziang Tian&#39;s Personal Blogs">
<meta property="og:description" content="We have learned the rough process of creating an object in gem5. To recap, we:  create a .py python interface for the class we wish to create declare the object in a .hh header file implement the obje">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://ziangtian.github.io/personal/img/pfp.jpg">
<meta property="article:published_time" content="2024-05-10T13:10:37.000Z">
<meta property="article:modified_time" content="2024-05-11T03:25:12.966Z">
<meta property="article:author" content="Ziang Tian">
<meta property="article:tag" content="gem5">
<meta property="article:tag" content="arch">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ziangtian.github.io/personal/img/pfp.jpg"><link rel="shortcut icon" href="/personal/img/favicon.png"><link rel="canonical" href="http://ziangtian.github.io/personal/2024/05/10/gem5-creating-mem-object/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/personal/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/personal/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Creating a memory object',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-11 11:25:12'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/widen.css"><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/personal/img/pfp.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/personal/archives/"><div class="headline">Articles</div><div class="length-num">10</div></a><a href="/personal/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/personal/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/personal/archives/"><span> üóÉÔ∏èArchives</span></a></div><div class="menus_item"><a class="site-page" href="https://ziangtian.github.io"><span> üìäAcademic Page</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/personal/img/ambient.jpg')"><nav id="nav"><span id="blog-info"><a href="/personal/" title="Ziang Tian's Personal Blogs"><span class="site-name">Ziang Tian's Personal Blogs</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/personal/archives/"><span> üóÉÔ∏èArchives</span></a></div><div class="menus_item"><a class="site-page" href="https://ziangtian.github.io"><span> üìäAcademic Page</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Creating a memory object</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2024-05-10T13:10:37.000Z" title="Created 2024-05-10 21:10:37">2024-05-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/">Learning</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/Arch/">Arch</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/Arch/Gem5/">Gem5</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>We have learned the rough process of creating an object in gem5. To recap, we:</p>
<ol>
<li>create a <code>.py</code> python interface for the class we wish to create</li>
<li>declare the object in a <code>.hh</code> header file</li>
<li>implement the object in a <code>.cc</code> cpp file</li>
<li>register the object and files in a <code>SConscipt</code> python file</li>
<li>rebuild the system and import our objects</li>
</ol>
<p>However, we are yet to actually create one object and call it in our config script. In this blog, we‚Äôre gonna create a semi-functional memory object in gem5. </p>
<h2 id="Ports-and-Packets-in-Gem5"><a href="#Ports-and-Packets-in-Gem5" class="headerlink" title="Ports and Packets in Gem5"></a>Ports and Packets in Gem5</h2><p>Before we can create the smallest functional object in gem5, we need to have a working knowledge of the ports and packets in gem5.</p>
<p>All memory objects are connected together via <strong>ports</strong>. There are two types of ports in gem5: request ports and response ports. Data flows from request ports to response ports in the form of <strong>packets</strong>. We do not need to get into the details of packets for now ‚Äì except that all of the port interface accept a Packet <em>pointer</em> as a parameter. It‚Äôs a type so common that gem5 defined a type for it: <code>PacketPtr</code>.</p>
<p>Both the response port and the request port have two functions predefined in <code>port.hh</code> to send and receive the their packets. For request ports, they are <code>sendTimingReq</code> and <code>recvTimingResp</code>. The former sending the request packet to the response port and the latter expecting to receive the respose packet from the reponse port. For response ports, they are <code>recvTimingReq</code> and <code>sendTimingResp</code>. As an example, this is how <code>SendTiming</code> is implemented in <code>port.hh</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span></span></span><br><span class="line"><span class="function"><span class="title">RequestPort::sendTimingReq</span><span class="params">(PacketPtr pkt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">addTrace</span>(pkt);</span><br><span class="line">        <span class="type">bool</span> succ = TimingRequestProtocol::<span class="built_in">sendReq</span>(_responsePort, pkt);</span><br><span class="line">        <span class="keyword">if</span> (!succ)</span><br><span class="line">            <span class="built_in">removeTrace</span>(pkt);</span><br><span class="line">        <span class="keyword">return</span> succ;</span><br><span class="line">    &#125; <span class="built_in">catch</span> (UnboundPortException) &#123;</span><br><span class="line">        <span class="built_in">reportUnbound</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Ports-and-functions-in-our-memory-object"><a href="#Ports-and-functions-in-our-memory-object" class="headerlink" title="Ports and functions in our memory object"></a>Ports and functions in our memory object</h2><p>Essentially, the memory object we‚Äôll be creating is very simple, because it just sits between the CPU and the memory bus, forwarding the data for them without any caching or whatsoever. The object will have two sets of ports ‚Äì one set (CPUSide) inheriting from the response port and another (MemSide) inheriting from the request port. The CPUSide consists of two response ports (data and instruction), while the Memside only consists of a single request port. Up till now you might expect to get your hands on writing the object code. But not yet. In spite of this, the port structure and the send&#x2F;receive functions can be confusing for beginners (me). I have drawn out a diagram for the code we‚Äôll be writing:</p>
<figure>
  
<iframe frameborder="0" style="width:100%;height:600px;" src="https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=ports.drawio#R1ZjLcpswFIafxjPpoh5A3LJs3DTdZMYTJ9PJqoPRKZACIkIOdp%2B%2BwogAOTR1Fly8scUvIcSnXzoHLcgq2d9wLwtvGYV4YWh0vyBfF4bhaI78LYVDJZiuEgIe0UrSG2ET%2FQElakrdRRTyTkPBWCyirCv6LE3BFx3N45wV3Wa%2FWNx9auYFgISN78VY%2FRFREVaqa2mN%2Fh2iIKyfrGuqJvHqxkrIQ4%2ByoiWR6wVZccZEVUr2K4hLdjWX6r5v%2F6h9HRiHVJxyw0Ph3udfHsmTm231FIzV4fH2s%2BrlxYt36oVX6wc1XnGoIXC2SymU%2FWgLclWEkYBN5vllbSFnXWqhSGJ5pcsiHlf9EOAC9i1JjfMGWAKCH2QTVWsaVnVLbZoad9FMgVG3CVv4bdXOU7MevHbdgJEFxeYDnAjiRH3PD%2BFnxrh4h5c%2BDS8H83I1jMscCpeJcEUzwmXVeOaCy0K4EkjYcchs%2B1Rua1OvSOIay67HbBNDI3oPNX0wbHb%2F5qVtZMiQf%2Buj17QLDnnG0ryUSvt9OmeYZCiWDmJ5W1sQ4XzeQS5mTNPpCRfj0rzE%2B196RLaew%2F53mv%2FsMYHVszNTYjaZHzGcusmgMVNafStyXFo4I8khpWvP%2Fw0YmOxQfl%2FARIvRsjEs3XaWPfmuOxgvnJKUvO6jJEqDOxlQJ2Vm6m8Wo95DTOvhNZy%2F3PPxl%2BP20DJH9heOkG1%2FPU9rL%2B0kZE2rUSxm4A2fg%2F%2FSQmbHcgxXWy5LQVm6YPKdeUQppDhNGxOoZWn%2Fx2n2xIPLwWAaCGbopTSGuzq7nRKX7S6dGRoQH4KcjwFRkO3JSEa2IE5JZmRBR18apwTZkS34zknJdpcjZKN%2Fi77Z6NyeZUucHmLWx4nJy%2Bbw%2BFjXOoEn138B"></iframe>

<p style="text-align: center; font-size: 0.8em;"><em>Ports and Functions in Simple Memory Object</em></p>
</figure>


<p>Notice the <code>sendTimingReq/sp</code> and <code>recvTimingReq/sp</code> functions in oval. Although some of them are already defined in header files, you‚Äôll need to override them here, or wrap them with another handler function for convenience (unironically so). This can make things a bit messy and hard to understand in the code. We‚Äôll get to them one at a time.</p>
<h2 id="Following-the-procedure-to-create-gem5-objects"><a href="#Following-the-procedure-to-create-gem5-objects" class="headerlink" title="Following the procedure to create gem5 objects"></a>Following the procedure to create gem5 objects</h2><h3 id="Python-interface-declaration"><a href="#Python-interface-declaration" class="headerlink" title="Python interface declaration"></a>Python interface declaration</h3><p>As our simple memory object consists of 3 ports (2 CPUSide response port and 1 MemSide request port), we‚Äôll declare them in the python interface script.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> m5.params <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> m5.SimObject <span class="keyword">import</span> SimObject</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleMemobj</span>(<span class="title class_ inherited__">SimObject</span>):</span><br><span class="line">    <span class="built_in">type</span> = <span class="string">&quot;SimpleMemobj&quot;</span></span><br><span class="line">    cxx_header = <span class="string">&quot;learning_gem5/part2/simple_memobj.hh&quot;</span></span><br><span class="line">    cxx_class = <span class="string">&quot;gem5::SimpleMemobj&quot;</span></span><br><span class="line"></span><br><span class="line">    inst_port = ResponsePort(<span class="string">&quot;CPU side port, receives requests&quot;</span>)</span><br><span class="line">    data_port = ResponsePort(<span class="string">&quot;CPU side port, receives requests&quot;</span>)</span><br><span class="line">    mem_side = RequestPort(<span class="string">&quot;Memory side port, sends requests&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Class-header-file"><a href="#Class-header-file" class="headerlink" title="Class header file"></a>Class header file</h3><p>Our simple memory object inherits from <code>SimObject</code>, and its member objects inherit from <code>ResponsePort</code> and <code>RequestPort</code>. We therefore use a nested class here for clarity:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LEARNING_GEM5_PART2_SIMPLE_MEMOBJ_HH__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LEARNING_GEM5_PART2_SIMPLE_MEMOBJ_HH__</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> gem5&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleMemobj</span> : <span class="keyword">public</span> SimObject</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">CPUSidePort</span> : <span class="keyword">public</span> ResponsePort</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">        SimpleMemobj *owner; <span class="comment">// interface to the outside class</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//other members</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment">// constructor</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// other functions</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">protected</span>:</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// other functions</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">MemSidePort</span> : <span class="keyword">public</span> RequestPort</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">        SimpleMemobj *owner; <span class="comment">// interface to the outside class</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//other members</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment">// constructor</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// other functions</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">protected</span>:</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// other functions</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __LEARNING_GEM5_PART2_SIMPLE_MEMOBJ_HH__</span></span></span><br></pre></td></tr></table></figure>


<h3 id="Class-implementation"><a href="#Class-implementation" class="headerlink" title="Class implementation"></a>Class implementation</h3><h3 id="SConscript"><a href="#SConscript" class="headerlink" title="SConscript"></a>SConscript</h3><h3 id="Trying-out-objects-in-config-files"><a href="#Trying-out-objects-in-config-files" class="headerlink" title="Trying out objects in config files"></a>Trying out objects in config files</h3></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/personal/tags/gem5/">gem5</a><a class="post-meta__tags" href="/personal/tags/arch/">arch</a></div><div class="post_share"><div class="social-share" data-image="/personal/img/pfp.jpg" data-sites="twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/personal/2024/05/11/Movie-List/" title="My Movie List"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">My Movie List</div></div></a></div><div class="next-post pull-right"><a href="/personal/2024/05/10/gem5-objects/" title="Procedure of creating a Gem5 object"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">Procedure of creating a Gem5 object</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/personal/2024/05/05/gem5-basics/" title="Gem5 Basics"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-05</div><div class="title">Gem5 Basics</div></div></a></div><div><a href="/personal/2024/05/10/gem5-objects/" title="Procedure of creating a Gem5 object"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-10</div><div class="title">Procedure of creating a Gem5 object</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Ports-and-Packets-in-Gem5"><span class="toc-number">1.</span> <span class="toc-text">Ports and Packets in Gem5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ports-and-functions-in-our-memory-object"><span class="toc-number">2.</span> <span class="toc-text">Ports and functions in our memory object</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Following-the-procedure-to-create-gem5-objects"><span class="toc-number">3.</span> <span class="toc-text">Following the procedure to create gem5 objects</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python-interface-declaration"><span class="toc-number">3.1.</span> <span class="toc-text">Python interface declaration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-header-file"><span class="toc-number">3.2.</span> <span class="toc-text">Class header file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-implementation"><span class="toc-number">3.3.</span> <span class="toc-text">Class implementation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SConscript"><span class="toc-number">3.4.</span> <span class="toc-text">SConscript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trying-out-objects-in-config-files"><span class="toc-number">3.5.</span> <span class="toc-text">Trying out objects in config files</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: rgb(0,0,0,0)"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/personal/js/utils.js?v=4.13.0"></script><script src="/personal/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div></div></body></html>