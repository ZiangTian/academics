<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Procedure of creating a Gem5 object | Ziang Tian's Personal Blogs</title><meta name="author" content="Ziang Tian"><meta name="copyright" content="Ziang Tian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="In this blog i’m gonna tap into some harder aspects of gem5 – creating objects. This can entail a lot of API knowledge, for which we’ll even dive into the source code for a better understanding. But f">
<meta property="og:type" content="article">
<meta property="og:title" content="Procedure of creating a Gem5 object">
<meta property="og:url" content="http://ziangtian.github.io/personal/2024/05/10/gem5-objects/index.html">
<meta property="og:site_name" content="Ziang Tian&#39;s Personal Blogs">
<meta property="og:description" content="In this blog i’m gonna tap into some harder aspects of gem5 – creating objects. This can entail a lot of API knowledge, for which we’ll even dive into the source code for a better understanding. But f">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://ziangtian.github.io/personal/img/pfp.jpg">
<meta property="article:published_time" content="2024-05-10T02:54:04.000Z">
<meta property="article:modified_time" content="2024-05-10T13:16:10.775Z">
<meta property="article:author" content="Ziang Tian">
<meta property="article:tag" content="gem5">
<meta property="article:tag" content="arch">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ziangtian.github.io/personal/img/pfp.jpg"><link rel="shortcut icon" href="/personal/img/favicon.png"><link rel="canonical" href="http://ziangtian.github.io/personal/2024/05/10/gem5-objects/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/personal/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/personal/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Procedure of creating a Gem5 object',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-10 21:16:10'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/widen.css"><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/personal/img/pfp.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/personal/archives/"><div class="headline">Articles</div><div class="length-num">5</div></a><a href="/personal/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/personal/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/personal/archives/"><span> 🗃️Archives</span></a></div><div class="menus_item"><a class="site-page" href="https://ziangtian.github.io"><span> 📊Academic Page</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/personal/img/ambient.jpg')"><nav id="nav"><span id="blog-info"><a href="/personal/" title="Ziang Tian's Personal Blogs"><span class="site-name">Ziang Tian's Personal Blogs</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/personal/archives/"><span> 🗃️Archives</span></a></div><div class="menus_item"><a class="site-page" href="https://ziangtian.github.io"><span> 📊Academic Page</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Procedure of creating a Gem5 object</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2024-05-10T02:54:04.000Z" title="Created 2024-05-10 10:54:04">2024-05-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/">Learning</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/Arch/">Arch</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/personal/categories/Learning/Arch/Gem5/">Gem5</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>In this blog i’m gonna tap into some harder aspects of gem5 – creating objects. This can entail a lot of API knowledge, for which we’ll even dive into the source code for a better understanding. But for this tutorial, we’ll first get to know the process of creating an object in gem5, and then we’re gonna embark on the <em>long</em> journey of creating a memory object that sits between the CPU and the memory bus.</p>
<h2 id="File-hierarchy-of-gem5"><a href="#File-hierarchy-of-gem5" class="headerlink" title="File hierarchy of gem5"></a>File hierarchy of gem5</h2><p>So far we have only played with files in the dir <code>/config</code>. Files under this dir are only called after the gem5 simulator has been built – what do i mean by this? As we did in the previous tutorial, gem5 <code>.opt</code> file is built by doing </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scons build/X86/gem5.opt -j &lt;number of threads&gt;</span><br></pre></td></tr></table></figure>

<p>Only after we have obtained <code>gem5.opt</code> can we use it on config files. The files used to build <code>gem5.opt</code> lie under <code>/src</code>. Recall that we can import objects in our <code>config</code> scripts, so this means we need to add objects under dir <code>/src</code>. Also, you should always re-build gem5 if you change the files under <code>/src</code>.</p>
<h2 id="Adding-files-in-src"><a href="#Adding-files-in-src" class="headerlink" title="Adding files in /src"></a>Adding files in <code>/src</code></h2><h3 id="1-Create-a-python-interface-to-the-object-you’re-creating"><a href="#1-Create-a-python-interface-to-the-object-you’re-creating" class="headerlink" title="1. Create a python interface to the object you’re creating"></a>1. Create a python interface to the object you’re creating</h3><p>As you will be manipulating objects implemented in cpp via python, you’ll first need to declare an interface for your cpp classes. In this python script, you’ll declare the parameters of your object that can be manipulated from python <code>config</code> files.</p>
<p>Following <a target="_blank" rel="noopener" href="https://www.gem5.org/documentation/learning_gem5/part2/helloobject/">the tutorial</a>, we create a file under <code>/src/learning_gem5/part2</code>. However, for better demonstration, I’m using the example code from <a target="_blank" rel="noopener" href="https://www.gem5.org/documentation/learning_gem5/part2/memoryobject/">creating a memoryobj</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> m5.params <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> m5.proxy <span class="keyword">import</span> * </span><br><span class="line"><span class="keyword">from</span> m5.SimObject <span class="keyword">import</span> SimObject</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleMemobj</span>(<span class="title class_ inherited__">SimObject</span>):</span><br><span class="line">    <span class="built_in">type</span> = <span class="string">&#x27;SimpleMemobj&#x27;</span></span><br><span class="line">    cxx_header = <span class="string">&quot;learning_gem5/part2/simple_memobj.hh&quot;</span></span><br><span class="line">    cxx_class = <span class="string">&quot;gem5::SimpleMemobj&quot;</span></span><br><span class="line"></span><br><span class="line">    inst_port = SlavePort(<span class="string">&quot;CPU side port, receives requests&quot;</span>)</span><br><span class="line">    data_port = SlavePort(<span class="string">&quot;CPU side port, receives requests&quot;</span>)</span><br><span class="line">    mem_side = MasterPort(<span class="string">&quot;Memory side port, sends requests&quot;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>type</code> usually is the same as the cxx_class name. leave it this way for now.</li>
<li><code>cxx_header</code> is the <code>.hh</code> file in which we’ll declare our new classes.</li>
<li><code>cxx_class</code> is the name of our class.</li>
<li>you can add the parameters you wish to pass into the class object. Here, we have three parameters: the instruction port, the data port and the memory side port. Imaginably, we’ll likely do <code>SimpleMemobj(inst_port= ,data_port= , mem_side= )</code> when creating the object in python <code>config</code> scripts. (Of course, you’ll need to do <code>from m5.objects import *</code>)</li>
</ul>
<h3 id="2-Declare-your-object-in-the-header-file"><a href="#2-Declare-your-object-in-the-header-file" class="headerlink" title="2. Declare your object in the header file"></a>2. Declare your object in the header file</h3><p>Your objects should inherit from the <code>SimObject</code> class. But headsup when you’re writing constructor function for your object: <strong>The constructor for all SimObjects assumes it will take a parameter object</strong>. This parameter is automatically created by the build from the python class for the simobject. The name for this parameter type is generated automatically from the name of your object. For our “HelloObject” the parameter type’s name is “HelloObjectParams”. To use this type, include <code>params/HelloObject.hh</code> or replace the header file name with yours.</p>
<p>Also, to avoid compiling errors, in gem5 you should</p>
<ul>
<li>wrap all header files in <code>ifndef</code>&#x2F;<code>endif</code> with <em>the name of the file and the dir it’s at</em>.</li>
<li>declare Simobjects within the <code>gem5</code> namespace scope.</li>
</ul>
<blockquote>
<p><strong>Aside</strong>: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/1653958/why-are-ifndef-and-define-used-in-c-header-files"><code>ifndef</code>&#x2F;<code>endif</code> in c&#x2F;c++</a><br><em><code>#ifndef</code> checks whether the given token has been <code>#define</code>-d earlier in the file or in an included file; if not, it includes the code between it and the closing <code>#else</code> or, if no <code>#else</code> is present, <code>#endif</code> statement. <code>#ifndef</code> is often used to make header files idempotent by defining a token once the file has been included and checking that the token was not set at the top of that file</em>.</p>
</blockquote>
<p>So we have our <code>.hh</code> file:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LEARNING_GEM5_MEMOBJECT_HH__ <span class="comment">// dir + name</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LEARNING_GEM5_MEMOBJECT_HH__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;mem/port.hh&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;params/SimpleMemobj.hh&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;sim/sim_object.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleMemobj</span> : <span class="keyword">public</span> SimObject</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** constructor</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">SimpleMemobj</span>(<span class="type">const</span> SimpleMemobjParams &amp;params); </span><br><span class="line">    <span class="comment">// SimpleMemobjParams::create() automatically created.  </span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __LEARNING_GEM5_HELLO_OBJECT_HH__</span></span></span><br></pre></td></tr></table></figure>

<p><strong>Aside</strong><br>If the constructor of your SimObject follows the following signature: </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Foo</span>(<span class="type">const</span> FooParams &amp;)</span><br></pre></td></tr></table></figure>

<p>then a <code>FooParams::create()</code> method will be automatically defined. The purpose of the <code>create()</code> method is to call the SimObject constructor and return an instance of the SimObject. Most SimObject will follow this pattern; however, if your SimObject does not follow this pattern, the <a target="_blank" rel="noopener" href="http://doxygen.gem5.org/release/current/classSimObject.html#details">gem5 SimObject documetation</a> provides more information about manually implementing the <code>create()</code> method.</p>
<p>For example, by the definition of the constructor function of <code>SimMemobj</code> above, a <code>create</code> function for <code>SimpleMemobj</code> will be automatically generated by the build system as follows:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SimpleMemobj*</span></span><br><span class="line"><span class="function"><span class="title">SimpleMemobjParams::create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">SimpleMemobj</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Implement-your-object-in-the-cpp-file"><a href="#3-Implement-your-object-in-the-cpp-file" class="headerlink" title="3. Implement your object in the cpp file"></a>3. Implement your object in the cpp file</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;learning_gem5/part2/simple_memobj.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> gem5</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">SimpleMemobj::<span class="built_in">SimpleMemobj</span>(SimpleMemobjParams *params) :</span><br><span class="line">    <span class="built_in">SimObject</span>(params),</span><br><span class="line">    <span class="built_in">instPort</span>(params-&gt;name + <span class="string">&quot;.inst_port&quot;</span>, <span class="keyword">this</span>),</span><br><span class="line">    <span class="built_in">dataPort</span>(params-&gt;name + <span class="string">&quot;.data_port&quot;</span>, <span class="keyword">this</span>),</span><br><span class="line">    <span class="built_in">memPort</span>(params-&gt;name + <span class="string">&quot;.mem_side&quot;</span>, <span class="keyword">this</span>), </span><br><span class="line">    <span class="built_in">blocked</span>(<span class="literal">false</span>) &#123;&#125;</span><br><span class="line">&#125; <span class="comment">// namespace gem5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h3 id="4-Register-the-SimObject-and-cpp-file"><a href="#4-Register-the-SimObject-and-cpp-file" class="headerlink" title="4. Register the SimObject and cpp file"></a>4. Register the SimObject and cpp file</h3><p>For all our added features to be noticed by the build system, we need a <code>SConscript</code> to tell the build system about these files. To do this, we need to create a file named <code>SConscript</code> in <code>src/learning_gem5/part2</code> dir. Despite not having a <code>.py</code> subfix, it’s still a python script. You’ll need to declare the SimObject and the <code>.cc</code> file in the script.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Import(<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"></span><br><span class="line">SimObject(<span class="string">&#x27;SimpleMemobj.py&#x27;</span>, sim_objects = [<span class="string">&quot;SimpleMemobj&quot;</span>])</span><br><span class="line">Source(<span class="string">&#x27;simple_memobj.cc&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="5-rebuild-the-scons-system-and-use-the-new-object"><a href="#5-rebuild-the-scons-system-and-use-the-new-object" class="headerlink" title="5. rebuild the scons system and use the new object"></a>5. rebuild the scons system and use the new object</h3><p>Up till now we should have learned how to create the files needed following the official tutorial. Now we can do <code>scons build/X86/gem5.opt -j &lt;n&gt;</code> to re-build the system and freely use our new objects in the config file. This blog aims at familiarizing you with how to create an object; we’ll learn the ports and actually build a memory object in the next blog.</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/personal/tags/gem5/">gem5</a><a class="post-meta__tags" href="/personal/tags/arch/">arch</a></div><div class="post_share"><div class="social-share" data-image="/personal/img/pfp.jpg" data-sites="twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/personal/2024/05/10/gem5-creating-mem-object/" title="Creating a memory object"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Creating a memory object</div></div></a></div><div class="next-post pull-right"><a href="/personal/2024/05/05/JS-needed-for-react/" title="JS-needed-for-react"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">JS-needed-for-react</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/personal/2024/05/05/gem5-basics/" title="Gem5 Basics"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-05</div><div class="title">Gem5 Basics</div></div></a></div><div><a href="/personal/2024/05/10/gem5-creating-mem-object/" title="Creating a memory object"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-10</div><div class="title">Creating a memory object</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#File-hierarchy-of-gem5"><span class="toc-number">1.</span> <span class="toc-text">File hierarchy of gem5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-files-in-src"><span class="toc-number">2.</span> <span class="toc-text">Adding files in &#x2F;src</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Create-a-python-interface-to-the-object-you%E2%80%99re-creating"><span class="toc-number">2.1.</span> <span class="toc-text">1. Create a python interface to the object you’re creating</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Declare-your-object-in-the-header-file"><span class="toc-number">2.2.</span> <span class="toc-text">2. Declare your object in the header file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Implement-your-object-in-the-cpp-file"><span class="toc-number">2.3.</span> <span class="toc-text">3. Implement your object in the cpp file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Register-the-SimObject-and-cpp-file"><span class="toc-number">2.4.</span> <span class="toc-text">4. Register the SimObject and cpp file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-rebuild-the-scons-system-and-use-the-new-object"><span class="toc-number">2.5.</span> <span class="toc-text">5. rebuild the scons system and use the new object</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: rgb(0,0,0,0)"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/personal/js/utils.js?v=4.13.0"></script><script src="/personal/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div></div></body></html>